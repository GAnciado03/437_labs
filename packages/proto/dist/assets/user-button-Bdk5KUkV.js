(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function a(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=a(o);fetch(o.href,r)}})();const u="theme";function i(){const e=document.body.classList.contains("dark");document.querySelectorAll("[data-theme-button]").forEach(t=>{t.setAttribute("aria-pressed",String(e));const a=t.getAttribute("data-label-on")||"Dark: On",n=t.getAttribute("data-label-off")||"Dark: Off";t.textContent=e?a:n})}function l(e){document.body.classList.toggle("dark",e==="dark"),i()}function f(){const e=localStorage.getItem(u);return e==="dark"||e==="light"?e:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function m(e){localStorage.setItem(u,e),l(e)}document.body.addEventListener("theme-toggle",()=>{const e=document.body.classList.contains("dark")?"light":"dark";m(e)});function d(){document.querySelectorAll("[data-theme-button]").forEach(e=>{e.addEventListener("click",()=>{document.body.dispatchEvent(new CustomEvent("theme-toggle",{bubbles:!0}))})})}l(f());document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{d(),i()}):(d(),i());function c(){const e=(location.pathname||"").toLowerCase();if(e.endsWith("/user.html")||e.endsWith("user.html")||document.querySelector("#floating-user-button"))return;const t=document.createElement("a");t.id="floating-user-button",t.href="user.html",t.setAttribute("aria-label","User"),t.className="mono",t.textContent="User",Object.assign(t.style,{position:"fixed",top:"var(--space-3, 1rem)",right:"var(--space-3, 1rem)",padding:".35rem .6rem",background:"var(--color-surface)",color:"var(--color-text)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm, 6px)",textDecoration:"none",fontWeight:"600",boxShadow:"var(--shadow-sm, 0 1px 2px rgba(0,0,0,.08))",zIndex:"1000"}),document.body.appendChild(t)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c();
